<h1>Admin panel</h1>

<p><%= link_to "New user", new_admin_user_path, class: "btn btn-primary" %></p>

<%= form_tag admin_users_path, method: 'get', class: "form-inline" do %>
  <div class="form-group">
    <%= text_field_tag :first_name, params[:first_name], placeholder: "first name", class: "form-control" %>
  </div>

  <div class="form-group">
    <%= text_field_tag :last_name, params[:last_name], placeholder: "last name", class: "form-control" %>
  </div>

  <div class="form-group">
    <%= text_field_tag :email, params[:email], placeholder: "email", class: "form-control" %>
  </div>

  <div class="form-group">
    <%= submit_tag "Filter", class: "btn btn-primary" %>
  </div>
<% end %>

<table class="table table-hover table-bordered">
  <caption>Users</caption>
  <thead>
    <th>
      Id
    </th>
    <th>
      First name
    </th>
    <th>
      Last name
    </th>
    <th>
      Email
    </th>
    <th>
      Phone
    </th>
    <th>
      Subscription until
    </th>
    <th>
      Actions
    </th>
  </thead>
  <tbody>
    <% @users.each do |user| %>
    <tr>
      <th scope="row"><%= user.id %></th>
      <td><%= user.first_name %></td>
      <td><%= user.last_name %></td>
      <td><%= user.email %></td>
      <td><%= user.telephone %></td>
      <td><%= user.subscription %></td>
      <td class="vert-align">
        <%= link_to "Edit", edit_admin_user_path(id: user.id), class: "btn btn-primary" %>
        <%= link_to "Delete", admin_user_path(id: user.id), data: { confirm: "Are you sure?" }, method: :delete, class: "btn btn-primary" %>
      </td>
    </tr>
    <% end -%>
  </tbody>
</table>

